"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_src_components_InteractiveStellarMap_index_ts",{

/***/ "(app-pages-browser)/./src/components/InteractiveStellarMap/InteractiveStellarMap.tsx":
/*!************************************************************************!*\
  !*** ./src/components/InteractiveStellarMap/InteractiveStellarMap.tsx ***!
  \************************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _InteractiveStellarMap_module_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./InteractiveStellarMap.module.css */ \"(app-pages-browser)/./src/components/InteractiveStellarMap/InteractiveStellarMap.module.css\");\n/* harmony import */ var _InteractiveStellarMap_module_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_InteractiveStellarMap_module_css__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nconst InteractiveStellarMap = (param)=>{\n    let { children, density = 50, matrixRainEnabled = true, matrixRainColor = \"#00ff00\", gridEnabled = true, interactiveGlow = true, pulseNodes = true, theme = \"green\", interactive = true } = param;\n    _s();\n    // Refs\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const rainCanvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const gridCanvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fxCanvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // State\n    const [dimensions, setDimensions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 0,\n        height: 0\n    });\n    const [isLoaded, setIsLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isInitialized, setIsInitialized] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mousePosition, setMousePosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0,\n        active: false\n    });\n    // Animation frame references\n    const rainAnimationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const gridAnimationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const particlesAnimationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fxAnimationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Data references\n    const matrixRainRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const gridNodesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const particlesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const lastParticleTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const isResizingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const resizeTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Matrix characters\n    const matrixChars = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        return \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$+-*/=<>[]{}|~^%#@!?;:,.\".split(\"\");\n    }, []);\n    // Theme colors\n    const themeColors = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const themes = {\n            green: {\n                primary: \"#00ff00\",\n                secondary: \"#00cc66\",\n                tertiary: \"#003300\",\n                accent: \"#33ff33\",\n                background: \"#001100\"\n            },\n            blue: {\n                primary: \"#0088ff\",\n                secondary: \"#00ccff\",\n                tertiary: \"#000066\",\n                accent: \"#33ccff\",\n                background: \"#000033\"\n            },\n            red: {\n                primary: \"#ff0033\",\n                secondary: \"#cc0000\",\n                tertiary: \"#330000\",\n                accent: \"#ff3333\",\n                background: \"#110000\"\n            },\n            purple: {\n                primary: \"#9900ff\",\n                secondary: \"#6600cc\",\n                tertiary: \"#220033\",\n                accent: \"#aa33ff\",\n                background: \"#110022\"\n            },\n            cyan: {\n                primary: \"#00ffff\",\n                secondary: \"#00cccc\",\n                tertiary: \"#003333\",\n                accent: \"#33ffff\",\n                background: \"#001111\"\n            },\n            multi: {\n                primary: \"#00ff00\",\n                secondary: \"#00ccff\",\n                tertiary: \"#220033\",\n                accent: \"#ff00ff\",\n                background: \"#000022\"\n            }\n        };\n        return themes[theme];\n    }, [\n        theme\n    ]);\n    // Initialize dimensions\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleResize = ()=>{\n            if (!containerRef.current) return;\n            // Mark as resizing to prevent animation artifacts\n            isResizingRef.current = true;\n            // Clear previous timeout\n            if (resizeTimeoutRef.current) {\n                clearTimeout(resizeTimeoutRef.current);\n            }\n            // Get dimensions\n            const { offsetWidth, offsetHeight } = containerRef.current;\n            // Update dimensions state\n            setDimensions({\n                width: offsetWidth,\n                height: offsetHeight\n            });\n            // Reset resizing flag after animations have time to adjust\n            resizeTimeoutRef.current = setTimeout(()=>{\n                isResizingRef.current = false;\n                // Reinitialize if already initialized\n                if (isInitialized) {\n                    // Clean up previous animations\n                    cleanupAnimations();\n                    // Reinitialize with new dimensions\n                    initMatrixRain();\n                    initGrid();\n                }\n            }, 300);\n        };\n        handleResize();\n        // Throttled resize handler for better performance\n        let resizeTimer;\n        const throttledResize = ()=>{\n            clearTimeout(resizeTimer);\n            resizeTimer = setTimeout(handleResize, 100);\n        };\n        window.addEventListener(\"resize\", throttledResize);\n        return ()=>{\n            window.removeEventListener(\"resize\", throttledResize);\n            if (resizeTimeoutRef.current) {\n                clearTimeout(resizeTimeoutRef.current);\n            }\n        };\n    }, []);\n    // Clean up animations\n    const cleanupAnimations = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        [\n            rainAnimationRef,\n            gridAnimationRef,\n            particlesAnimationRef,\n            fxAnimationRef\n        ].forEach((ref)=>{\n            if (ref.current) {\n                cancelAnimationFrame(ref.current);\n                ref.current = null;\n            }\n        });\n    }, []);\n    // Initialize the system\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!dimensions.width || !dimensions.height || isInitialized) return;\n        // Initialize contexts\n        const mainCanvas = canvasRef.current;\n        const rainCanvas = rainCanvasRef.current;\n        const gridCanvas = gridCanvasRef.current;\n        const fxCanvas = fxCanvasRef.current;\n        if (!mainCanvas || !rainCanvas || !gridCanvas || !fxCanvas) return;\n        // Set dimensions with device pixel ratio for crisp rendering\n        const dpr = window.devicePixelRatio || 1;\n        // Update all canvases with proper dimensions\n        [\n            mainCanvas,\n            rainCanvas,\n            gridCanvas,\n            fxCanvas\n        ].forEach((canvas)=>{\n            canvas.width = dimensions.width * dpr;\n            canvas.height = dimensions.height * dpr;\n            const ctx = canvas.getContext(\"2d\");\n            if (ctx) {\n                ctx.scale(dpr, dpr);\n            }\n        });\n        // Initialize Matrix rain\n        initMatrixRain();\n        // Initialize Grid\n        initGrid();\n        // Mark as initialized\n        setIsInitialized(true);\n        // Set loaded with delay for transition\n        setTimeout(()=>{\n            setIsLoaded(true);\n        }, 300);\n        // Cleanup function\n        return ()=>{\n            cleanupAnimations();\n        };\n    }, [\n        dimensions,\n        isInitialized,\n        cleanupAnimations\n    ]);\n    // Initialize Matrix rain\n    const initMatrixRain = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!matrixRainEnabled) return;\n        const { width, height } = dimensions;\n        const drops = [];\n        // Calculate number of drops based on width\n        const columns = Math.floor(width / 20); // One drop every ~20px\n        for(let i = 0; i < columns; i++){\n            drops.push({\n                x: i * 20 + Math.random() * 10,\n                y: Math.random() * -500,\n                length: Math.floor(Math.random() * 15) + 5,\n                speed: Math.random() * 1.5 + 0.5,\n                char: matrixChars[Math.floor(Math.random() * matrixChars.length)],\n                opacity: Math.random() * 0.5 + 0.3,\n                hue: Math.random() * 30 // Slight hue variation\n            });\n        }\n        matrixRainRef.current = drops;\n    }, [\n        dimensions,\n        matrixChars,\n        matrixRainEnabled\n    ]);\n    // Initialize Grid\n    const initGrid = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!gridEnabled) return;\n        const { width, height } = dimensions;\n        const nodes = [];\n        // Calculate number of nodes based on density\n        const nodeCount = Math.min(Math.floor(width * height / 20000 * density), 150);\n        for(let i = 0; i < nodeCount; i++){\n            nodes.push({\n                x: Math.random() * width,\n                y: Math.random() * height,\n                size: Math.random() * 2.5 + 1.5,\n                pulseSpeed: Math.random() * 0.02 + 0.01,\n                glowIntensity: Math.random() * 0.3 + 0.7,\n                connections: []\n            });\n        }\n        // Compute connections\n        nodes.forEach((node, index)=>{\n            const connections = [];\n            const maxConnections = Math.floor(Math.random() * 3) + 2;\n            // Find closest nodes\n            const distances = nodes.map((otherNode, otherIndex)=>{\n                if (otherIndex === index) return {\n                    index: otherIndex,\n                    distance: Infinity\n                };\n                const dx = node.x - otherNode.x;\n                const dy = node.y - otherNode.y;\n                const distance = Math.sqrt(dx * dx + dy * dy);\n                return {\n                    index: otherIndex,\n                    distance\n                };\n            }).filter((item)=>item.distance < 250) // Max connection distance\n            .sort((a, b)=>a.distance - b.distance).slice(0, maxConnections);\n            node.connections = distances.map((d)=>d.index);\n        });\n        gridNodesRef.current = nodes;\n    }, [\n        dimensions,\n        density,\n        gridEnabled\n    ]);\n    // Animation loop for Matrix rain\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isInitialized || !matrixRainEnabled) return;\n        const rainCanvas = rainCanvasRef.current;\n        if (!rainCanvas) return;\n        const ctx = rainCanvas.getContext(\"2d\", {\n            alpha: true\n        });\n        if (!ctx) return;\n        const animate = ()=>{\n            // Skip animation frames during resize to improve performance\n            if (isResizingRef.current) {\n                rainAnimationRef.current = requestAnimationFrame(animate);\n                return;\n            }\n            ctx.clearRect(0, 0, dimensions.width, dimensions.height);\n            // Set global composition for glow effect\n            ctx.globalCompositeOperation = \"source-over\";\n            // Update and draw rain drops\n            matrixRainRef.current.forEach((drop, index)=>{\n                // Update position\n                drop.y += drop.speed;\n                // Reset if out of bounds\n                if (drop.y > dimensions.height) {\n                    drop.y = Math.random() * -200;\n                    drop.length = Math.floor(Math.random() * 15) + 5;\n                    drop.speed = Math.random() * 1.5 + 0.5;\n                    drop.char = matrixChars[Math.floor(Math.random() * matrixChars.length)];\n                    drop.opacity = Math.random() * 0.5 + 0.3;\n                }\n                // Randomly change character\n                if (Math.random() < 0.01) {\n                    drop.char = matrixChars[Math.floor(Math.random() * matrixChars.length)];\n                }\n                // Draw trail\n                for(let i = 0; i < drop.length; i++){\n                    const y = drop.y - i * 20;\n                    if (y < 0) continue;\n                    // Get trail opacity - head is brightest\n                    const trailOpacity = drop.opacity * (1 - i / drop.length);\n                    // Color based on position in trail\n                    const color = i === 0 ? \"rgba(180, 255, 180, \".concat(drop.opacity + 0.3, \")\") : \"hsla(\".concat(120 + drop.hue, \", 100%, \").concat(50 - i * 3, \"%, \").concat(trailOpacity, \")\");\n                    ctx.font = '16px \"JetBrains Mono\", monospace';\n                    ctx.fillStyle = color;\n                    ctx.fillText(i === 0 ? drop.char : matrixChars[Math.floor(Math.random() * matrixChars.length)], drop.x, y);\n                }\n            });\n            rainAnimationRef.current = requestAnimationFrame(animate);\n        };\n        animate();\n        return ()=>{\n            if (rainAnimationRef.current) {\n                cancelAnimationFrame(rainAnimationRef.current);\n            }\n        };\n    }, [\n        isInitialized,\n        matrixRainEnabled,\n        dimensions,\n        matrixChars\n    ]);\n    // Animation loop for Grid\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isInitialized || !gridEnabled) return;\n        const gridCanvas = gridCanvasRef.current;\n        if (!gridCanvas) return;\n        const ctx = gridCanvas.getContext(\"2d\", {\n            alpha: true\n        });\n        if (!ctx) return;\n        const animate = (timestamp)=>{\n            // Skip animation frames during resize to improve performance\n            if (isResizingRef.current) {\n                gridAnimationRef.current = requestAnimationFrame(animate);\n                return;\n            }\n            ctx.clearRect(0, 0, dimensions.width, dimensions.height);\n            // Set line properties\n            ctx.lineWidth = 1;\n            ctx.lineCap = \"round\";\n            // Draw connections first (behind nodes)\n            gridNodesRef.current.forEach((node, index)=>{\n                node.connections.forEach((connectionIndex)=>{\n                    const targetNode = gridNodesRef.current[connectionIndex];\n                    // Calculate distance to determine opacity\n                    const dx = node.x - targetNode.x;\n                    const dy = node.y - targetNode.y;\n                    const distance = Math.sqrt(dx * dx + dy * dy);\n                    const maxDistance = 250;\n                    // Skip if too far\n                    if (distance > maxDistance) return;\n                    // Calculate line opacity based on distance\n                    const lineOpacity = 0.1 + 0.1 * (1 - distance / maxDistance);\n                    // Create gradient for line\n                    const gradient = ctx.createLinearGradient(node.x, node.y, targetNode.x, targetNode.y);\n                    gradient.addColorStop(0, \"rgba(\".concat(hexToRgb(themeColors.primary), \", \").concat(lineOpacity * node.glowIntensity, \")\"));\n                    gradient.addColorStop(1, \"rgba(\".concat(hexToRgb(themeColors.secondary), \", \").concat(lineOpacity * targetNode.glowIntensity, \")\"));\n                    ctx.strokeStyle = gradient;\n                    // Draw line\n                    ctx.beginPath();\n                    ctx.moveTo(node.x, node.y);\n                    ctx.lineTo(targetNode.x, targetNode.y);\n                    ctx.stroke();\n                });\n            });\n            // Draw nodes\n            gridNodesRef.current.forEach((node, index)=>{\n                // Update pulse if enabled\n                if (pulseNodes) {\n                    node.glowIntensity = 0.7 + 0.3 * Math.sin(timestamp * node.pulseSpeed);\n                }\n                // Draw node glow\n                ctx.beginPath();\n                const gradient = ctx.createRadialGradient(node.x, node.y, 0, node.x, node.y, node.size * 8);\n                gradient.addColorStop(0, \"rgba(\".concat(hexToRgb(themeColors.primary), \", \").concat(0.3 * node.glowIntensity, \")\"));\n                gradient.addColorStop(1, \"rgba(\".concat(hexToRgb(themeColors.primary), \", 0)\"));\n                ctx.fillStyle = gradient;\n                ctx.arc(node.x, node.y, node.size * 8, 0, Math.PI * 2);\n                ctx.fill();\n                // Draw node\n                ctx.beginPath();\n                ctx.fillStyle = themeColors.primary;\n                ctx.arc(node.x, node.y, node.size, 0, Math.PI * 2);\n                ctx.fill();\n            });\n            gridAnimationRef.current = requestAnimationFrame(animate);\n        };\n        animate(0);\n        return ()=>{\n            if (gridAnimationRef.current) {\n                cancelAnimationFrame(gridAnimationRef.current);\n            }\n        };\n    }, [\n        isInitialized,\n        gridEnabled,\n        dimensions,\n        pulseNodes,\n        themeColors\n    ]);\n    // Handle mouse interactions\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isInitialized || !interactive) return;\n        const handleMouseMove = (e)=>{\n            if (!containerRef.current) return;\n            const rect = containerRef.current.getBoundingClientRect();\n            const x = e.clientX - rect.left;\n            const y = e.clientY - rect.top;\n            setMousePosition({\n                x,\n                y,\n                active: true\n            });\n            // Spawn particles with throttling for better performance\n            spawnParticles(x, y, 1);\n        };\n        const handleMouseLeave = ()=>{\n            setMousePosition({\n                ...mousePosition,\n                active: false\n            });\n        };\n        const handleMouseClick = (e)=>{\n            if (!containerRef.current) return;\n            const rect = containerRef.current.getBoundingClientRect();\n            const x = e.clientX - rect.left;\n            const y = e.clientY - rect.top;\n            console.log(\"Stellar map clicked at:\", x, y);\n            // Spawn more particles on click\n            spawnParticles(x, y, 10);\n            // Add interactive matrix effect on click\n            if (matrixRainEnabled) {\n                const additionalDrops = 10;\n                for(let i = 0; i < additionalDrops; i++){\n                    matrixRainRef.current.push({\n                        x: x + Math.random() * 100 - 50,\n                        y: y,\n                        length: Math.floor(Math.random() * 15) + 5,\n                        speed: Math.random() * 1.5 + 0.5,\n                        char: matrixChars[Math.floor(Math.random() * matrixChars.length)],\n                        opacity: Math.random() * 0.7 + 0.5,\n                        hue: Math.random() * 30\n                    });\n                }\n            }\n        };\n        const container = containerRef.current;\n        if (container) {\n            container.addEventListener(\"mousemove\", handleMouseMove, {\n                passive: true\n            });\n            container.addEventListener(\"mouseleave\", handleMouseLeave);\n            container.addEventListener(\"click\", handleMouseClick);\n        }\n        return ()=>{\n            if (container) {\n                container.removeEventListener(\"mousemove\", handleMouseMove);\n                container.removeEventListener(\"mouseleave\", handleMouseLeave);\n                container.removeEventListener(\"click\", handleMouseClick);\n            }\n        };\n    }, [\n        isInitialized,\n        interactive,\n        mousePosition,\n        matrixRainEnabled,\n        matrixChars\n    ]);\n    // Spawn particles with throttling\n    const spawnParticles = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((x, y, count)=>{\n        // Limit particle spawn rate\n        const now = Date.now();\n        if (now - lastParticleTimeRef.current < 50) return;\n        lastParticleTimeRef.current = now;\n        for(let i = 0; i < count; i++){\n            const angle = Math.random() * Math.PI * 2;\n            const speed = Math.random() * 2 + 1;\n            particlesRef.current.push({\n                x,\n                y,\n                vx: Math.cos(angle) * speed,\n                vy: Math.sin(angle) * speed,\n                size: Math.random() * 3 + 1,\n                color: theme === \"multi\" ? \"hsl(\".concat(Math.random() * 60 + 90, \", 100%, 60%)\") : themeColors.primary,\n                lifespan: Math.random() * 30 + 20,\n                age: 0\n            });\n        }\n    }, [\n        theme,\n        themeColors.primary\n    ]);\n    // Animation loop for Particles\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isInitialized) return;\n        const mainCanvas = canvasRef.current;\n        if (!mainCanvas) return;\n        const ctx = mainCanvas.getContext(\"2d\", {\n            alpha: true\n        });\n        if (!ctx) return;\n        const animate = ()=>{\n            // Skip animation frames during resize to improve performance\n            if (isResizingRef.current) {\n                particlesAnimationRef.current = requestAnimationFrame(animate);\n                return;\n            }\n            ctx.clearRect(0, 0, dimensions.width, dimensions.height);\n            // Update and draw particles\n            particlesRef.current = particlesRef.current.filter((particle)=>{\n                // Update position\n                particle.x += particle.vx;\n                particle.y += particle.vy;\n                // Update age\n                particle.age++;\n                // Remove if too old\n                if (particle.age > particle.lifespan) {\n                    return false;\n                }\n                // Calculate opacity based on age\n                const opacity = 1 - particle.age / particle.lifespan;\n                // Draw particle\n                ctx.beginPath();\n                ctx.fillStyle = particle.color.replace(\")\", \", \".concat(opacity, \")\")).replace(\"rgb\", \"rgba\");\n                ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);\n                ctx.fill();\n                return true;\n            });\n            particlesAnimationRef.current = requestAnimationFrame(animate);\n        };\n        animate();\n        return ()=>{\n            if (particlesAnimationRef.current) {\n                cancelAnimationFrame(particlesAnimationRef.current);\n            }\n        };\n    }, [\n        isInitialized,\n        dimensions\n    ]);\n    // Interactive glow effect\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isInitialized || !interactiveGlow) return;\n        const fxCanvas = fxCanvasRef.current;\n        if (!fxCanvas) return;\n        const ctx = fxCanvas.getContext(\"2d\", {\n            alpha: true\n        });\n        if (!ctx) return;\n        const animate = ()=>{\n            // Skip animation frames during resize to improve performance\n            if (isResizingRef.current) {\n                fxAnimationRef.current = requestAnimationFrame(animate);\n                return;\n            }\n            ctx.clearRect(0, 0, dimensions.width, dimensions.height);\n            // Only draw when mouse is active\n            if (mousePosition.active) {\n                const { x, y } = mousePosition;\n                // Create radial gradient for glow\n                const gradient = ctx.createRadialGradient(x, y, 0, x, y, 200);\n                gradient.addColorStop(0, \"rgba(\".concat(hexToRgb(themeColors.primary), \", 0.15)\"));\n                gradient.addColorStop(1, \"rgba(\".concat(hexToRgb(themeColors.primary), \", 0)\"));\n                ctx.fillStyle = gradient;\n                ctx.beginPath();\n                ctx.arc(x, y, 200, 0, Math.PI * 2);\n                ctx.fill();\n            }\n            fxAnimationRef.current = requestAnimationFrame(animate);\n        };\n        animate();\n        return ()=>{\n            if (fxAnimationRef.current) {\n                cancelAnimationFrame(fxAnimationRef.current);\n            }\n        };\n    }, [\n        isInitialized,\n        dimensions,\n        mousePosition,\n        interactiveGlow,\n        themeColors\n    ]);\n    // Utility function to convert hex to rgb\n    const hexToRgb = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((hex)=>{\n        // Remove # if present\n        hex = hex.replace(/^#/, \"\");\n        // Parse hex\n        const bigint = parseInt(hex, 16);\n        const r = bigint >> 16 & 255;\n        const g = bigint >> 8 & 255;\n        const b = bigint & 255;\n        return \"\".concat(r, \", \").concat(g, \", \").concat(b);\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        className: \"\".concat((_InteractiveStellarMap_module_css__WEBPACK_IMPORTED_MODULE_2___default().container), \" \").concat(isLoaded ? (_InteractiveStellarMap_module_css__WEBPACK_IMPORTED_MODULE_2___default().active) : \"\", \" \").concat((_InteractiveStellarMap_module_css__WEBPACK_IMPORTED_MODULE_2___default())[theme]),\n        style: {\n            position: \"relative\",\n            width: \"100%\",\n            height: \"100vh\",\n            zIndex: 10,\n            pointerEvents: \"auto\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: rainCanvasRef,\n                className: (_InteractiveStellarMap_module_css__WEBPACK_IMPORTED_MODULE_2___default().canvas),\n                width: dimensions.width,\n                height: dimensions.height\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ck\\\\LandingProspera\\\\prospera-nextjs\\\\src\\\\components\\\\InteractiveStellarMap\\\\InteractiveStellarMap.tsx\",\n                lineNumber: 739,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: gridCanvasRef,\n                className: (_InteractiveStellarMap_module_css__WEBPACK_IMPORTED_MODULE_2___default().canvas),\n                width: dimensions.width,\n                height: dimensions.height\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ck\\\\LandingProspera\\\\prospera-nextjs\\\\src\\\\components\\\\InteractiveStellarMap\\\\InteractiveStellarMap.tsx\",\n                lineNumber: 747,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                className: (_InteractiveStellarMap_module_css__WEBPACK_IMPORTED_MODULE_2___default().canvas),\n                width: dimensions.width,\n                height: dimensions.height\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ck\\\\LandingProspera\\\\prospera-nextjs\\\\src\\\\components\\\\InteractiveStellarMap\\\\InteractiveStellarMap.tsx\",\n                lineNumber: 755,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: fxCanvasRef,\n                className: (_InteractiveStellarMap_module_css__WEBPACK_IMPORTED_MODULE_2___default().canvas),\n                width: dimensions.width,\n                height: dimensions.height\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ck\\\\LandingProspera\\\\prospera-nextjs\\\\src\\\\components\\\\InteractiveStellarMap\\\\InteractiveStellarMap.tsx\",\n                lineNumber: 763,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_InteractiveStellarMap_module_css__WEBPACK_IMPORTED_MODULE_2___default().content),\n                style: {\n                    pointerEvents: \"auto\"\n                },\n                children: children\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\ck\\\\LandingProspera\\\\prospera-nextjs\\\\src\\\\components\\\\InteractiveStellarMap\\\\InteractiveStellarMap.tsx\",\n                lineNumber: 771,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\ck\\\\LandingProspera\\\\prospera-nextjs\\\\src\\\\components\\\\InteractiveStellarMap\\\\InteractiveStellarMap.tsx\",\n        lineNumber: 727,\n        columnNumber: 5\n    }, undefined);\n};\n_s(InteractiveStellarMap, \"M7lfoDSz3WojWNsIVVuEB9hoJhE=\");\n_c = InteractiveStellarMap;\n/* harmony default export */ __webpack_exports__[\"default\"] = (InteractiveStellarMap);\nvar _c;\n$RefreshReg$(_c, \"InteractiveStellarMap\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0ludGVyYWN0aXZlU3RlbGxhck1hcC9JbnRlcmFjdGl2ZVN0ZWxsYXJNYXAudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRWlGO0FBQ3pCO0FBNEN4RCxNQUFNTyx3QkFBOEQ7UUFBQyxFQUNuRUMsUUFBUSxFQUNSQyxVQUFVLEVBQUUsRUFDWkMsb0JBQW9CLElBQUksRUFDeEJDLGtCQUFrQixTQUFTLEVBQzNCQyxjQUFjLElBQUksRUFDbEJDLGtCQUFrQixJQUFJLEVBQ3RCQyxhQUFhLElBQUksRUFDakJDLFFBQVEsT0FBTyxFQUNmQyxjQUFjLElBQUksRUFDbkI7O0lBQ0MsT0FBTztJQUNQLE1BQU1DLGVBQWVkLDZDQUFNQSxDQUFpQjtJQUM1QyxNQUFNZSxZQUFZZiw2Q0FBTUEsQ0FBb0I7SUFDNUMsTUFBTWdCLGdCQUFnQmhCLDZDQUFNQSxDQUFvQjtJQUNoRCxNQUFNaUIsZ0JBQWdCakIsNkNBQU1BLENBQW9CO0lBQ2hELE1BQU1rQixjQUFjbEIsNkNBQU1BLENBQW9CO0lBRTlDLFFBQVE7SUFDUixNQUFNLENBQUNtQixZQUFZQyxjQUFjLEdBQUd0QiwrQ0FBUUEsQ0FBQztRQUFFdUIsT0FBTztRQUFHQyxRQUFRO0lBQUU7SUFDbkUsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUcxQiwrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUMyQixlQUFlQyxpQkFBaUIsR0FBRzVCLCtDQUFRQSxDQUFDO0lBQ25ELE1BQU0sQ0FBQzZCLGVBQWVDLGlCQUFpQixHQUFHOUIsK0NBQVFBLENBQTRDO1FBQzVGK0IsR0FBRztRQUNIQyxHQUFHO1FBQ0hDLFFBQVE7SUFDVjtJQUVBLDZCQUE2QjtJQUM3QixNQUFNQyxtQkFBbUJoQyw2Q0FBTUEsQ0FBZ0I7SUFDL0MsTUFBTWlDLG1CQUFtQmpDLDZDQUFNQSxDQUFnQjtJQUMvQyxNQUFNa0Msd0JBQXdCbEMsNkNBQU1BLENBQWdCO0lBQ3BELE1BQU1tQyxp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QUNDbEgsS0FBSzFEO1FBQ0w2SyxXQUFXLEdBQXVCcEssT0FBcEJwQixvRkFBZ0IsRUFBQyxLQUFvQ0EsT0FBakNvQixXQUFXcEIsaUZBQWEsR0FBRyxJQUFHLEtBQWlCLE9BQWRBLDBFQUFNLENBQUNTLE1BQU07UUFDaEZnTCxPQUFPO1lBQ0xDLFVBQVU7WUFDVnhLLE9BQU87WUFDUEMsUUFBUTtZQUNSd0ssUUFBUTtZQUNSQyxlQUFlO1FBQ2pCOzswQkFHQSw4REFBQy9HO2dCQUNDUixLQUFLeEQ7Z0JBQ0wySyxXQUFXeEwsaUZBQWE7Z0JBQ3hCa0IsT0FBT0YsV0FBV0UsS0FBSztnQkFDdkJDLFFBQVFILFdBQVdHLE1BQU07Ozs7OzswQkFJM0IsOERBQUMwRDtnQkFDQ1IsS0FBS3ZEO2dCQUNMMEssV0FBV3hMLGlGQUFhO2dCQUN4QmtCLE9BQU9GLFdBQVdFLEtBQUs7Z0JBQ3ZCQyxRQUFRSCxXQUFXRyxNQUFNOzs7Ozs7MEJBSTNCLDhEQUFDMEQ7Z0JBQ0NSLEtBQUt6RDtnQkFDTDRLLFdBQVd4TCxpRkFBYTtnQkFDeEJrQixPQUFPRixXQUFXRSxLQUFLO2dCQUN2QkMsUUFBUUgsV0FBV0csTUFBTTs7Ozs7OzBCQUkzQiw4REFBQzBEO2dCQUNDUixLQUFLdEQ7Z0JBQ0x5SyxXQUFXeEwsaUZBQWE7Z0JBQ3hCa0IsT0FBT0YsV0FBV0UsS0FBSztnQkFDdkJDLFFBQVFILFdBQVdHLE1BQU07Ozs7OzswQkFJM0IsOERBQUNvSztnQkFBSUMsV0FBV3hMLGtGQUFjO2dCQUFFeUwsT0FBTztvQkFBRUcsZUFBZTtnQkFBTzswQkFDNUQxTDs7Ozs7Ozs7Ozs7O0FBSVQ7R0F4dEJNRDtLQUFBQTtBQTB0Qk4sK0RBQWVBLHFCQUFxQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9JbnRlcmFjdGl2ZVN0ZWxsYXJNYXAvSW50ZXJhY3RpdmVTdGVsbGFyTWFwLnRzeD8zNGY3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZU1lbW8sIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vSW50ZXJhY3RpdmVTdGVsbGFyTWFwLm1vZHVsZS5jc3MnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNYXRyaXhSYWluRHJvcCB7XHJcbiAgeDogbnVtYmVyO1xyXG4gIHk6IG51bWJlcjtcclxuICBsZW5ndGg6IG51bWJlcjtcclxuICBzcGVlZDogbnVtYmVyO1xyXG4gIGNoYXI6IHN0cmluZztcclxuICBvcGFjaXR5OiBudW1iZXI7XHJcbiAgaHVlOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgR3JpZE5vZGUge1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcbiAgc2l6ZTogbnVtYmVyO1xyXG4gIHB1bHNlU3BlZWQ6IG51bWJlcjtcclxuICBnbG93SW50ZW5zaXR5OiBudW1iZXI7XHJcbiAgY29ubmVjdGlvbnM6IG51bWJlcltdO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBhcnRpY2xlIHtcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG4gIHZ4OiBudW1iZXI7XHJcbiAgdnk6IG51bWJlcjtcclxuICBzaXplOiBudW1iZXI7XHJcbiAgY29sb3I6IHN0cmluZztcclxuICBsaWZlc3BhbjogbnVtYmVyO1xyXG4gIGFnZTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEludGVyYWN0aXZlU3RlbGxhck1hcFByb3BzIHtcclxuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xyXG4gIGRlbnNpdHk/OiBudW1iZXI7XHJcbiAgbWF0cml4UmFpbkVuYWJsZWQ/OiBib29sZWFuO1xyXG4gIG1hdHJpeFJhaW5Db2xvcj86IHN0cmluZztcclxuICBncmlkRW5hYmxlZD86IGJvb2xlYW47XHJcbiAgaW50ZXJhY3RpdmVHbG93PzogYm9vbGVhbjtcclxuICBwdWxzZU5vZGVzPzogYm9vbGVhbjtcclxuICB0aGVtZT86ICdncmVlbicgfCAnYmx1ZScgfCAncmVkJyB8ICdwdXJwbGUnIHwgJ2N5YW4nIHwgJ211bHRpJztcclxuICBpbnRlcmFjdGl2ZT86IGJvb2xlYW47XHJcbn1cclxuXHJcbmNvbnN0IEludGVyYWN0aXZlU3RlbGxhck1hcDogUmVhY3QuRkM8SW50ZXJhY3RpdmVTdGVsbGFyTWFwUHJvcHM+ID0gKHtcclxuICBjaGlsZHJlbixcclxuICBkZW5zaXR5ID0gNTAsXHJcbiAgbWF0cml4UmFpbkVuYWJsZWQgPSB0cnVlLFxyXG4gIG1hdHJpeFJhaW5Db2xvciA9ICcjMDBmZjAwJyxcclxuICBncmlkRW5hYmxlZCA9IHRydWUsXHJcbiAgaW50ZXJhY3RpdmVHbG93ID0gdHJ1ZSxcclxuICBwdWxzZU5vZGVzID0gdHJ1ZSxcclxuICB0aGVtZSA9ICdncmVlbicsXHJcbiAgaW50ZXJhY3RpdmUgPSB0cnVlXHJcbn0pID0+IHtcclxuICAvLyBSZWZzXHJcbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcclxuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWY8SFRNTENhbnZhc0VsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IHJhaW5DYW52YXNSZWYgPSB1c2VSZWY8SFRNTENhbnZhc0VsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IGdyaWRDYW52YXNSZWYgPSB1c2VSZWY8SFRNTENhbnZhc0VsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IGZ4Q2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKTtcclxuICBcclxuICAvLyBTdGF0ZVxyXG4gIGNvbnN0IFtkaW1lbnNpb25zLCBzZXREaW1lbnNpb25zXSA9IHVzZVN0YXRlKHsgd2lkdGg6IDAsIGhlaWdodDogMCB9KTtcclxuICBjb25zdCBbaXNMb2FkZWQsIHNldElzTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbaXNJbml0aWFsaXplZCwgc2V0SXNJbml0aWFsaXplZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW21vdXNlUG9zaXRpb24sIHNldE1vdXNlUG9zaXRpb25dID0gdXNlU3RhdGU8eyB4OiBudW1iZXIsIHk6IG51bWJlciwgYWN0aXZlOiBib29sZWFuIH0+KHtcclxuICAgIHg6IDAsXHJcbiAgICB5OiAwLFxyXG4gICAgYWN0aXZlOiBmYWxzZVxyXG4gIH0pO1xyXG4gIFxyXG4gIC8vIEFuaW1hdGlvbiBmcmFtZSByZWZlcmVuY2VzXHJcbiAgY29uc3QgcmFpbkFuaW1hdGlvblJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBncmlkQW5pbWF0aW9uUmVmID0gdXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IHBhcnRpY2xlc0FuaW1hdGlvblJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBmeEFuaW1hdGlvblJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTtcclxuICBcclxuICAvLyBEYXRhIHJlZmVyZW5jZXNcclxuICBjb25zdCBtYXRyaXhSYWluUmVmID0gdXNlUmVmPE1hdHJpeFJhaW5Ecm9wW10+KFtdKTtcclxuICBjb25zdCBncmlkTm9kZXNSZWYgPSB1c2VSZWY8R3JpZE5vZGVbXT4oW10pO1xyXG4gIGNvbnN0IHBhcnRpY2xlc1JlZiA9IHVzZVJlZjxQYXJ0aWNsZVtdPihbXSk7XHJcbiAgY29uc3QgbGFzdFBhcnRpY2xlVGltZVJlZiA9IHVzZVJlZjxudW1iZXI+KDApO1xyXG4gIGNvbnN0IGlzUmVzaXppbmdSZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpO1xyXG4gIGNvbnN0IHJlc2l6ZVRpbWVvdXRSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcclxuXHJcbiAgLy8gTWF0cml4IGNoYXJhY3RlcnNcclxuICBjb25zdCBtYXRyaXhDaGFycyA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgcmV0dXJuICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0NTY3ODkkKy0qLz08Pltde318fl4lI0AhPzs6LC4nLnNwbGl0KCcnKTtcclxuICB9LCBbXSk7XHJcbiAgXHJcbiAgLy8gVGhlbWUgY29sb3JzXHJcbiAgY29uc3QgdGhlbWVDb2xvcnMgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGNvbnN0IHRoZW1lcyA9IHtcclxuICAgICAgZ3JlZW46IHtcclxuICAgICAgICBwcmltYXJ5OiAnIzAwZmYwMCcsXHJcbiAgICAgICAgc2Vjb25kYXJ5OiAnIzAwY2M2NicsXHJcbiAgICAgICAgdGVydGlhcnk6ICcjMDAzMzAwJyxcclxuICAgICAgICBhY2NlbnQ6ICcjMzNmZjMzJyxcclxuICAgICAgICBiYWNrZ3JvdW5kOiAnIzAwMTEwMCdcclxuICAgICAgfSxcclxuICAgICAgYmx1ZToge1xyXG4gICAgICAgIHByaW1hcnk6ICcjMDA4OGZmJyxcclxuICAgICAgICBzZWNvbmRhcnk6ICcjMDBjY2ZmJyxcclxuICAgICAgICB0ZXJ0aWFyeTogJyMwMDAwNjYnLFxyXG4gICAgICAgIGFjY2VudDogJyMzM2NjZmYnLFxyXG4gICAgICAgIGJhY2tncm91bmQ6ICcjMDAwMDMzJ1xyXG4gICAgICB9LFxyXG4gICAgICByZWQ6IHtcclxuICAgICAgICBwcmltYXJ5OiAnI2ZmMDAzMycsXHJcbiAgICAgICAgc2Vjb25kYXJ5OiAnI2NjMDAwMCcsXHJcbiAgICAgICAgdGVydGlhcnk6ICcjMzMwMDAwJyxcclxuICAgICAgICBhY2NlbnQ6ICcjZmYzMzMzJyxcclxuICAgICAgICBiYWNrZ3JvdW5kOiAnIzExMDAwMCdcclxuICAgICAgfSxcclxuICAgICAgcHVycGxlOiB7XHJcbiAgICAgICAgcHJpbWFyeTogJyM5OTAwZmYnLFxyXG4gICAgICAgIHNlY29uZGFyeTogJyM2NjAwY2MnLFxyXG4gICAgICAgIHRlcnRpYXJ5OiAnIzIyMDAzMycsXHJcbiAgICAgICAgYWNjZW50OiAnI2FhMzNmZicsXHJcbiAgICAgICAgYmFja2dyb3VuZDogJyMxMTAwMjInXHJcbiAgICAgIH0sXHJcbiAgICAgIGN5YW46IHtcclxuICAgICAgICBwcmltYXJ5OiAnIzAwZmZmZicsXHJcbiAgICAgICAgc2Vjb25kYXJ5OiAnIzAwY2NjYycsXHJcbiAgICAgICAgdGVydGlhcnk6ICcjMDAzMzMzJyxcclxuICAgICAgICBhY2NlbnQ6ICcjMzNmZmZmJyxcclxuICAgICAgICBiYWNrZ3JvdW5kOiAnIzAwMTExMSdcclxuICAgICAgfSxcclxuICAgICAgbXVsdGk6IHtcclxuICAgICAgICBwcmltYXJ5OiAnIzAwZmYwMCcsXHJcbiAgICAgICAgc2Vjb25kYXJ5OiAnIzAwY2NmZicsXHJcbiAgICAgICAgdGVydGlhcnk6ICcjMjIwMDMzJyxcclxuICAgICAgICBhY2NlbnQ6ICcjZmYwMGZmJyxcclxuICAgICAgICBiYWNrZ3JvdW5kOiAnIzAwMDAyMidcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHRoZW1lc1t0aGVtZV07XHJcbiAgfSwgW3RoZW1lXSk7XHJcbiAgXHJcbiAgLy8gSW5pdGlhbGl6ZSBkaW1lbnNpb25zXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcclxuICAgICAgaWYgKCFjb250YWluZXJSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgICBcclxuICAgICAgLy8gTWFyayBhcyByZXNpemluZyB0byBwcmV2ZW50IGFuaW1hdGlvbiBhcnRpZmFjdHNcclxuICAgICAgaXNSZXNpemluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgXHJcbiAgICAgIC8vIENsZWFyIHByZXZpb3VzIHRpbWVvdXRcclxuICAgICAgaWYgKHJlc2l6ZVRpbWVvdXRSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lb3V0UmVmLmN1cnJlbnQpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBHZXQgZGltZW5zaW9uc1xyXG4gICAgICBjb25zdCB7IG9mZnNldFdpZHRoLCBvZmZzZXRIZWlnaHQgfSA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xyXG4gICAgICBcclxuICAgICAgLy8gVXBkYXRlIGRpbWVuc2lvbnMgc3RhdGVcclxuICAgICAgc2V0RGltZW5zaW9ucyh7XHJcbiAgICAgICAgd2lkdGg6IG9mZnNldFdpZHRoLFxyXG4gICAgICAgIGhlaWdodDogb2Zmc2V0SGVpZ2h0XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gUmVzZXQgcmVzaXppbmcgZmxhZyBhZnRlciBhbmltYXRpb25zIGhhdmUgdGltZSB0byBhZGp1c3RcclxuICAgICAgcmVzaXplVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaXNSZXNpemluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVpbml0aWFsaXplIGlmIGFscmVhZHkgaW5pdGlhbGl6ZWRcclxuICAgICAgICBpZiAoaXNJbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgLy8gQ2xlYW4gdXAgcHJldmlvdXMgYW5pbWF0aW9uc1xyXG4gICAgICAgICAgY2xlYW51cEFuaW1hdGlvbnMoKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gUmVpbml0aWFsaXplIHdpdGggbmV3IGRpbWVuc2lvbnNcclxuICAgICAgICAgIGluaXRNYXRyaXhSYWluKCk7XHJcbiAgICAgICAgICBpbml0R3JpZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgMzAwKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIGhhbmRsZVJlc2l6ZSgpO1xyXG4gICAgXHJcbiAgICAvLyBUaHJvdHRsZWQgcmVzaXplIGhhbmRsZXIgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxyXG4gICAgbGV0IHJlc2l6ZVRpbWVyOiBOb2RlSlMuVGltZW91dDtcclxuICAgIGNvbnN0IHRocm90dGxlZFJlc2l6ZSA9ICgpID0+IHtcclxuICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVyKTtcclxuICAgICAgcmVzaXplVGltZXIgPSBzZXRUaW1lb3V0KGhhbmRsZVJlc2l6ZSwgMTAwKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aHJvdHRsZWRSZXNpemUpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhyb3R0bGVkUmVzaXplKTtcclxuICAgICAgaWYgKHJlc2l6ZVRpbWVvdXRSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lb3V0UmVmLmN1cnJlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuICBcclxuICAvLyBDbGVhbiB1cCBhbmltYXRpb25zXHJcbiAgY29uc3QgY2xlYW51cEFuaW1hdGlvbnMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBbcmFpbkFuaW1hdGlvblJlZiwgZ3JpZEFuaW1hdGlvblJlZiwgcGFydGljbGVzQW5pbWF0aW9uUmVmLCBmeEFuaW1hdGlvblJlZl0uZm9yRWFjaChyZWYgPT4ge1xyXG4gICAgICBpZiAocmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyZWYuY3VycmVudCk7XHJcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9LCBbXSk7XHJcbiAgXHJcbiAgLy8gSW5pdGlhbGl6ZSB0aGUgc3lzdGVtXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghZGltZW5zaW9ucy53aWR0aCB8fCAhZGltZW5zaW9ucy5oZWlnaHQgfHwgaXNJbml0aWFsaXplZCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBJbml0aWFsaXplIGNvbnRleHRzXHJcbiAgICBjb25zdCBtYWluQ2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XHJcbiAgICBjb25zdCByYWluQ2FudmFzID0gcmFpbkNhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgY29uc3QgZ3JpZENhbnZhcyA9IGdyaWRDYW52YXNSZWYuY3VycmVudDtcclxuICAgIGNvbnN0IGZ4Q2FudmFzID0gZnhDYW52YXNSZWYuY3VycmVudDtcclxuICAgIFxyXG4gICAgaWYgKCFtYWluQ2FudmFzIHx8ICFyYWluQ2FudmFzIHx8ICFncmlkQ2FudmFzIHx8ICFmeENhbnZhcykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBTZXQgZGltZW5zaW9ucyB3aXRoIGRldmljZSBwaXhlbCByYXRpbyBmb3IgY3Jpc3AgcmVuZGVyaW5nXHJcbiAgICBjb25zdCBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xyXG4gICAgXHJcbiAgICAvLyBVcGRhdGUgYWxsIGNhbnZhc2VzIHdpdGggcHJvcGVyIGRpbWVuc2lvbnNcclxuICAgIFttYWluQ2FudmFzLCByYWluQ2FudmFzLCBncmlkQ2FudmFzLCBmeENhbnZhc10uZm9yRWFjaChjYW52YXMgPT4ge1xyXG4gICAgICBjYW52YXMud2lkdGggPSBkaW1lbnNpb25zLndpZHRoICogZHByO1xyXG4gICAgICBjYW52YXMuaGVpZ2h0ID0gZGltZW5zaW9ucy5oZWlnaHQgKiBkcHI7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgaWYgKGN0eCkge1xyXG4gICAgICAgIGN0eC5zY2FsZShkcHIsIGRwcik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBJbml0aWFsaXplIE1hdHJpeCByYWluXHJcbiAgICBpbml0TWF0cml4UmFpbigpO1xyXG4gICAgXHJcbiAgICAvLyBJbml0aWFsaXplIEdyaWRcclxuICAgIGluaXRHcmlkKCk7XHJcbiAgICBcclxuICAgIC8vIE1hcmsgYXMgaW5pdGlhbGl6ZWRcclxuICAgIHNldElzSW5pdGlhbGl6ZWQodHJ1ZSk7XHJcbiAgICBcclxuICAgIC8vIFNldCBsb2FkZWQgd2l0aCBkZWxheSBmb3IgdHJhbnNpdGlvblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHNldElzTG9hZGVkKHRydWUpO1xyXG4gICAgfSwgMzAwKTtcclxuICAgIFxyXG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgY2xlYW51cEFuaW1hdGlvbnMoKTtcclxuICAgIH07XHJcbiAgfSwgW2RpbWVuc2lvbnMsIGlzSW5pdGlhbGl6ZWQsIGNsZWFudXBBbmltYXRpb25zXSk7XHJcbiAgXHJcbiAgLy8gSW5pdGlhbGl6ZSBNYXRyaXggcmFpblxyXG4gIGNvbnN0IGluaXRNYXRyaXhSYWluID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKCFtYXRyaXhSYWluRW5hYmxlZCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGRpbWVuc2lvbnM7XHJcbiAgICBjb25zdCBkcm9wczogTWF0cml4UmFpbkRyb3BbXSA9IFtdO1xyXG4gICAgXHJcbiAgICAvLyBDYWxjdWxhdGUgbnVtYmVyIG9mIGRyb3BzIGJhc2VkIG9uIHdpZHRoXHJcbiAgICBjb25zdCBjb2x1bW5zID0gTWF0aC5mbG9vcih3aWR0aCAvIDIwKTsgLy8gT25lIGRyb3AgZXZlcnkgfjIwcHhcclxuICAgIFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2x1bW5zOyBpKyspIHtcclxuICAgICAgZHJvcHMucHVzaCh7XHJcbiAgICAgICAgeDogaSAqIDIwICsgTWF0aC5yYW5kb20oKSAqIDEwLCAvLyBBZGQgc29tZSByYW5kb21uZXNzXHJcbiAgICAgICAgeTogTWF0aC5yYW5kb20oKSAqIC01MDAsIC8vIFN0YXJ0IGFib3ZlIHZpZXdwb3J0IGF0IHJhbmRvbSBwb3NpdGlvbnNcclxuICAgICAgICBsZW5ndGg6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE1KSArIDUsXHJcbiAgICAgICAgc3BlZWQ6IE1hdGgucmFuZG9tKCkgKiAxLjUgKyAwLjUsXHJcbiAgICAgICAgY2hhcjogbWF0cml4Q2hhcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF0cml4Q2hhcnMubGVuZ3RoKV0sXHJcbiAgICAgICAgb3BhY2l0eTogTWF0aC5yYW5kb20oKSAqIDAuNSArIDAuMyxcclxuICAgICAgICBodWU6IE1hdGgucmFuZG9tKCkgKiAzMCAvLyBTbGlnaHQgaHVlIHZhcmlhdGlvblxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgbWF0cml4UmFpblJlZi5jdXJyZW50ID0gZHJvcHM7XHJcbiAgfSwgW2RpbWVuc2lvbnMsIG1hdHJpeENoYXJzLCBtYXRyaXhSYWluRW5hYmxlZF0pO1xyXG4gIFxyXG4gIC8vIEluaXRpYWxpemUgR3JpZFxyXG4gIGNvbnN0IGluaXRHcmlkID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKCFncmlkRW5hYmxlZCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGRpbWVuc2lvbnM7XHJcbiAgICBjb25zdCBub2RlczogR3JpZE5vZGVbXSA9IFtdO1xyXG4gICAgXHJcbiAgICAvLyBDYWxjdWxhdGUgbnVtYmVyIG9mIG5vZGVzIGJhc2VkIG9uIGRlbnNpdHlcclxuICAgIGNvbnN0IG5vZGVDb3VudCA9IE1hdGgubWluKE1hdGguZmxvb3Iod2lkdGggKiBoZWlnaHQgLyAyMDAwMCAqIGRlbnNpdHkpLCAxNTApO1xyXG4gICAgXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVDb3VudDsgaSsrKSB7XHJcbiAgICAgIG5vZGVzLnB1c2goe1xyXG4gICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiB3aWR0aCxcclxuICAgICAgICB5OiBNYXRoLnJhbmRvbSgpICogaGVpZ2h0LFxyXG4gICAgICAgIHNpemU6IE1hdGgucmFuZG9tKCkgKiAyLjUgKyAxLjUsXHJcbiAgICAgICAgcHVsc2VTcGVlZDogTWF0aC5yYW5kb20oKSAqIDAuMDIgKyAwLjAxLFxyXG4gICAgICAgIGdsb3dJbnRlbnNpdHk6IE1hdGgucmFuZG9tKCkgKiAwLjMgKyAwLjcsXHJcbiAgICAgICAgY29ubmVjdGlvbnM6IFtdXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBDb21wdXRlIGNvbm5lY3Rpb25zXHJcbiAgICBub2Rlcy5mb3JFYWNoKChub2RlLCBpbmRleCkgPT4ge1xyXG4gICAgICBjb25zdCBjb25uZWN0aW9uczogbnVtYmVyW10gPSBbXTtcclxuICAgICAgY29uc3QgbWF4Q29ubmVjdGlvbnMgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKSArIDI7XHJcbiAgICAgIFxyXG4gICAgICAvLyBGaW5kIGNsb3Nlc3Qgbm9kZXNcclxuICAgICAgY29uc3QgZGlzdGFuY2VzID0gbm9kZXNcclxuICAgICAgICAubWFwKChvdGhlck5vZGUsIG90aGVySW5kZXgpID0+IHtcclxuICAgICAgICAgIGlmIChvdGhlckluZGV4ID09PSBpbmRleCkgcmV0dXJuIHsgaW5kZXg6IG90aGVySW5kZXgsIGRpc3RhbmNlOiBJbmZpbml0eSB9O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBkeCA9IG5vZGUueCAtIG90aGVyTm9kZS54O1xyXG4gICAgICAgICAgY29uc3QgZHkgPSBub2RlLnkgLSBvdGhlck5vZGUueTtcclxuICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgcmV0dXJuIHsgaW5kZXg6IG90aGVySW5kZXgsIGRpc3RhbmNlIH07XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbS5kaXN0YW5jZSA8IDI1MCkgLy8gTWF4IGNvbm5lY3Rpb24gZGlzdGFuY2VcclxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5kaXN0YW5jZSAtIGIuZGlzdGFuY2UpXHJcbiAgICAgICAgLnNsaWNlKDAsIG1heENvbm5lY3Rpb25zKTtcclxuICAgICAgXHJcbiAgICAgIG5vZGUuY29ubmVjdGlvbnMgPSBkaXN0YW5jZXMubWFwKGQgPT4gZC5pbmRleCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgZ3JpZE5vZGVzUmVmLmN1cnJlbnQgPSBub2RlcztcclxuICB9LCBbZGltZW5zaW9ucywgZGVuc2l0eSwgZ3JpZEVuYWJsZWRdKTtcclxuICBcclxuICAvLyBBbmltYXRpb24gbG9vcCBmb3IgTWF0cml4IHJhaW5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFpc0luaXRpYWxpemVkIHx8ICFtYXRyaXhSYWluRW5hYmxlZCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCByYWluQ2FudmFzID0gcmFpbkNhbnZhc1JlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFyYWluQ2FudmFzKSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IGN0eCA9IHJhaW5DYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7IGFscGhhOiB0cnVlIH0pO1xyXG4gICAgaWYgKCFjdHgpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcclxuICAgICAgLy8gU2tpcCBhbmltYXRpb24gZnJhbWVzIGR1cmluZyByZXNpemUgdG8gaW1wcm92ZSBwZXJmb3JtYW5jZVxyXG4gICAgICBpZiAoaXNSZXNpemluZ1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgcmFpbkFuaW1hdGlvblJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBkaW1lbnNpb25zLndpZHRoLCBkaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTZXQgZ2xvYmFsIGNvbXBvc2l0aW9uIGZvciBnbG93IGVmZmVjdFxyXG4gICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcclxuICAgICAgXHJcbiAgICAgIC8vIFVwZGF0ZSBhbmQgZHJhdyByYWluIGRyb3BzXHJcbiAgICAgIG1hdHJpeFJhaW5SZWYuY3VycmVudC5mb3JFYWNoKChkcm9wLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIC8vIFVwZGF0ZSBwb3NpdGlvblxyXG4gICAgICAgIGRyb3AueSArPSBkcm9wLnNwZWVkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJlc2V0IGlmIG91dCBvZiBib3VuZHNcclxuICAgICAgICBpZiAoZHJvcC55ID4gZGltZW5zaW9ucy5oZWlnaHQpIHtcclxuICAgICAgICAgIGRyb3AueSA9IE1hdGgucmFuZG9tKCkgKiAtMjAwO1xyXG4gICAgICAgICAgZHJvcC5sZW5ndGggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNSkgKyA1O1xyXG4gICAgICAgICAgZHJvcC5zcGVlZCA9IE1hdGgucmFuZG9tKCkgKiAxLjUgKyAwLjU7XHJcbiAgICAgICAgICBkcm9wLmNoYXIgPSBtYXRyaXhDaGFyc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXRyaXhDaGFycy5sZW5ndGgpXTtcclxuICAgICAgICAgIGRyb3Aub3BhY2l0eSA9IE1hdGgucmFuZG9tKCkgKiAwLjUgKyAwLjM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJhbmRvbWx5IGNoYW5nZSBjaGFyYWN0ZXJcclxuICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMDEpIHtcclxuICAgICAgICAgIGRyb3AuY2hhciA9IG1hdHJpeENoYXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1hdHJpeENoYXJzLmxlbmd0aCldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBEcmF3IHRyYWlsXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkcm9wLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBjb25zdCB5ID0gZHJvcC55IC0gaSAqIDIwO1xyXG4gICAgICAgICAgaWYgKHkgPCAwKSBjb250aW51ZTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gR2V0IHRyYWlsIG9wYWNpdHkgLSBoZWFkIGlzIGJyaWdodGVzdFxyXG4gICAgICAgICAgY29uc3QgdHJhaWxPcGFjaXR5ID0gZHJvcC5vcGFjaXR5ICogKDEgLSBpIC8gZHJvcC5sZW5ndGgpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBDb2xvciBiYXNlZCBvbiBwb3NpdGlvbiBpbiB0cmFpbFxyXG4gICAgICAgICAgY29uc3QgY29sb3IgPSBpID09PSAwXHJcbiAgICAgICAgICAgID8gYHJnYmEoMTgwLCAyNTUsIDE4MCwgJHtkcm9wLm9wYWNpdHkgKyAwLjN9KWBcclxuICAgICAgICAgICAgOiBgaHNsYSgkezEyMCArIGRyb3AuaHVlfSwgMTAwJSwgJHs1MCAtIGkgKiAzfSUsICR7dHJhaWxPcGFjaXR5fSlgO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjdHguZm9udCA9ICcxNnB4IFwiSmV0QnJhaW5zIE1vbm9cIiwgbW9ub3NwYWNlJztcclxuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcclxuICAgICAgICAgIGN0eC5maWxsVGV4dChcclxuICAgICAgICAgICAgaSA9PT0gMCA/IGRyb3AuY2hhciA6IG1hdHJpeENoYXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1hdHJpeENoYXJzLmxlbmd0aCldLFxyXG4gICAgICAgICAgICBkcm9wLngsXHJcbiAgICAgICAgICAgIHlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIHJhaW5BbmltYXRpb25SZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIGFuaW1hdGUoKTtcclxuICAgIFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKHJhaW5BbmltYXRpb25SZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhaW5BbmltYXRpb25SZWYuY3VycmVudCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW2lzSW5pdGlhbGl6ZWQsIG1hdHJpeFJhaW5FbmFibGVkLCBkaW1lbnNpb25zLCBtYXRyaXhDaGFyc10pO1xyXG4gIFxyXG4gIC8vIEFuaW1hdGlvbiBsb29wIGZvciBHcmlkXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghaXNJbml0aWFsaXplZCB8fCAhZ3JpZEVuYWJsZWQpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc3QgZ3JpZENhbnZhcyA9IGdyaWRDYW52YXNSZWYuY3VycmVudDtcclxuICAgIGlmICghZ3JpZENhbnZhcykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCBjdHggPSBncmlkQ2FudmFzLmdldENvbnRleHQoJzJkJywgeyBhbHBoYTogdHJ1ZSB9KTtcclxuICAgIGlmICghY3R4KSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IGFuaW1hdGUgPSAodGltZXN0YW1wOiBudW1iZXIpID0+IHtcclxuICAgICAgLy8gU2tpcCBhbmltYXRpb24gZnJhbWVzIGR1cmluZyByZXNpemUgdG8gaW1wcm92ZSBwZXJmb3JtYW5jZVxyXG4gICAgICBpZiAoaXNSZXNpemluZ1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgZ3JpZEFuaW1hdGlvblJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBkaW1lbnNpb25zLndpZHRoLCBkaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTZXQgbGluZSBwcm9wZXJ0aWVzXHJcbiAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xyXG4gICAgICBjdHgubGluZUNhcCA9ICdyb3VuZCc7XHJcbiAgICAgIFxyXG4gICAgICAvLyBEcmF3IGNvbm5lY3Rpb25zIGZpcnN0IChiZWhpbmQgbm9kZXMpXHJcbiAgICAgIGdyaWROb2Rlc1JlZi5jdXJyZW50LmZvckVhY2goKG5vZGUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgbm9kZS5jb25uZWN0aW9ucy5mb3JFYWNoKGNvbm5lY3Rpb25JbmRleCA9PiB7XHJcbiAgICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gZ3JpZE5vZGVzUmVmLmN1cnJlbnRbY29ubmVjdGlvbkluZGV4XTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIGRpc3RhbmNlIHRvIGRldGVybWluZSBvcGFjaXR5XHJcbiAgICAgICAgICBjb25zdCBkeCA9IG5vZGUueCAtIHRhcmdldE5vZGUueDtcclxuICAgICAgICAgIGNvbnN0IGR5ID0gbm9kZS55IC0gdGFyZ2V0Tm9kZS55O1xyXG4gICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xyXG4gICAgICAgICAgY29uc3QgbWF4RGlzdGFuY2UgPSAyNTA7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFNraXAgaWYgdG9vIGZhclxyXG4gICAgICAgICAgaWYgKGRpc3RhbmNlID4gbWF4RGlzdGFuY2UpIHJldHVybjtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIGxpbmUgb3BhY2l0eSBiYXNlZCBvbiBkaXN0YW5jZVxyXG4gICAgICAgICAgY29uc3QgbGluZU9wYWNpdHkgPSAwLjEgKyAwLjEgKiAoMSAtIGRpc3RhbmNlIC8gbWF4RGlzdGFuY2UpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBDcmVhdGUgZ3JhZGllbnQgZm9yIGxpbmVcclxuICAgICAgICAgIGNvbnN0IGdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KFxyXG4gICAgICAgICAgICBub2RlLngsIG5vZGUueSwgXHJcbiAgICAgICAgICAgIHRhcmdldE5vZGUueCwgdGFyZ2V0Tm9kZS55XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgYHJnYmEoJHtoZXhUb1JnYih0aGVtZUNvbG9ycy5wcmltYXJ5KX0sICR7bGluZU9wYWNpdHkgKiBub2RlLmdsb3dJbnRlbnNpdHl9KWApO1xyXG4gICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsIGByZ2JhKCR7aGV4VG9SZ2IodGhlbWVDb2xvcnMuc2Vjb25kYXJ5KX0sICR7bGluZU9wYWNpdHkgKiB0YXJnZXROb2RlLmdsb3dJbnRlbnNpdHl9KWApO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBncmFkaWVudDtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gRHJhdyBsaW5lXHJcbiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICBjdHgubW92ZVRvKG5vZGUueCwgbm9kZS55KTtcclxuICAgICAgICAgIGN0eC5saW5lVG8odGFyZ2V0Tm9kZS54LCB0YXJnZXROb2RlLnkpO1xyXG4gICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIERyYXcgbm9kZXNcclxuICAgICAgZ3JpZE5vZGVzUmVmLmN1cnJlbnQuZm9yRWFjaCgobm9kZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAvLyBVcGRhdGUgcHVsc2UgaWYgZW5hYmxlZFxyXG4gICAgICAgIGlmIChwdWxzZU5vZGVzKSB7XHJcbiAgICAgICAgICBub2RlLmdsb3dJbnRlbnNpdHkgPSAwLjcgKyAwLjMgKiBNYXRoLnNpbih0aW1lc3RhbXAgKiBub2RlLnB1bHNlU3BlZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBEcmF3IG5vZGUgZ2xvd1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjb25zdCBncmFkaWVudCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChcclxuICAgICAgICAgIG5vZGUueCwgbm9kZS55LCAwLFxyXG4gICAgICAgICAgbm9kZS54LCBub2RlLnksIG5vZGUuc2l6ZSAqIDhcclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLCBgcmdiYSgke2hleFRvUmdiKHRoZW1lQ29sb3JzLnByaW1hcnkpfSwgJHswLjMgKiBub2RlLmdsb3dJbnRlbnNpdHl9KWApO1xyXG4gICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCBgcmdiYSgke2hleFRvUmdiKHRoZW1lQ29sb3JzLnByaW1hcnkpfSwgMClgKTtcclxuICAgICAgICBcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gZ3JhZGllbnQ7XHJcbiAgICAgICAgY3R4LmFyYyhub2RlLngsIG5vZGUueSwgbm9kZS5zaXplICogOCwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRHJhdyBub2RlXHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGVtZUNvbG9ycy5wcmltYXJ5O1xyXG4gICAgICAgIGN0eC5hcmMobm9kZS54LCBub2RlLnksIG5vZGUuc2l6ZSwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgZ3JpZEFuaW1hdGlvblJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgYW5pbWF0ZSgwKTtcclxuICAgIFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKGdyaWRBbmltYXRpb25SZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGdyaWRBbmltYXRpb25SZWYuY3VycmVudCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW2lzSW5pdGlhbGl6ZWQsIGdyaWRFbmFibGVkLCBkaW1lbnNpb25zLCBwdWxzZU5vZGVzLCB0aGVtZUNvbG9yc10pO1xyXG4gIFxyXG4gIC8vIEhhbmRsZSBtb3VzZSBpbnRlcmFjdGlvbnNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFpc0luaXRpYWxpemVkIHx8ICFpbnRlcmFjdGl2ZSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBpZiAoIWNvbnRhaW5lclJlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByZWN0ID0gY29udGFpbmVyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGNvbnN0IHggPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7XHJcbiAgICAgIGNvbnN0IHkgPSBlLmNsaWVudFkgLSByZWN0LnRvcDtcclxuICAgICAgXHJcbiAgICAgIHNldE1vdXNlUG9zaXRpb24oe1xyXG4gICAgICAgIHgsXHJcbiAgICAgICAgeSxcclxuICAgICAgICBhY3RpdmU6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTcGF3biBwYXJ0aWNsZXMgd2l0aCB0aHJvdHRsaW5nIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcclxuICAgICAgc3Bhd25QYXJ0aWNsZXMoeCwgeSwgMSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBjb25zdCBoYW5kbGVNb3VzZUxlYXZlID0gKCkgPT4ge1xyXG4gICAgICBzZXRNb3VzZVBvc2l0aW9uKHtcclxuICAgICAgICAuLi5tb3VzZVBvc2l0aW9uLFxyXG4gICAgICAgIGFjdGl2ZTogZmFsc2VcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBjb25zdCBoYW5kbGVNb3VzZUNsaWNrID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgaWYgKCFjb250YWluZXJSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVjdCA9IGNvbnRhaW5lclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjb25zdCB4ID0gZS5jbGllbnRYIC0gcmVjdC5sZWZ0O1xyXG4gICAgICBjb25zdCB5ID0gZS5jbGllbnRZIC0gcmVjdC50b3A7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygnU3RlbGxhciBtYXAgY2xpY2tlZCBhdDonLCB4LCB5KTtcclxuICAgICAgXHJcbiAgICAgIC8vIFNwYXduIG1vcmUgcGFydGljbGVzIG9uIGNsaWNrXHJcbiAgICAgIHNwYXduUGFydGljbGVzKHgsIHksIDEwKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEFkZCBpbnRlcmFjdGl2ZSBtYXRyaXggZWZmZWN0IG9uIGNsaWNrXHJcbiAgICAgIGlmIChtYXRyaXhSYWluRW5hYmxlZCkge1xyXG4gICAgICAgIGNvbnN0IGFkZGl0aW9uYWxEcm9wcyA9IDEwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWRkaXRpb25hbERyb3BzOyBpKyspIHtcclxuICAgICAgICAgIG1hdHJpeFJhaW5SZWYuY3VycmVudC5wdXNoKHtcclxuICAgICAgICAgICAgeDogeCArIE1hdGgucmFuZG9tKCkgKiAxMDAgLSA1MCxcclxuICAgICAgICAgICAgeTogeSxcclxuICAgICAgICAgICAgbGVuZ3RoOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNSkgKyA1LFxyXG4gICAgICAgICAgICBzcGVlZDogTWF0aC5yYW5kb20oKSAqIDEuNSArIDAuNSxcclxuICAgICAgICAgICAgY2hhcjogbWF0cml4Q2hhcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF0cml4Q2hhcnMubGVuZ3RoKV0sXHJcbiAgICAgICAgICAgIG9wYWNpdHk6IE1hdGgucmFuZG9tKCkgKiAwLjcgKyAwLjUsXHJcbiAgICAgICAgICAgIGh1ZTogTWF0aC5yYW5kb20oKSAqIDMwXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xyXG4gICAgaWYgKGNvbnRhaW5lcikge1xyXG4gICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlLCB7IHBhc3NpdmU6IHRydWUgfSk7XHJcbiAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgaGFuZGxlTW91c2VMZWF2ZSk7XHJcbiAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU1vdXNlQ2xpY2spO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpZiAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSk7XHJcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBoYW5kbGVNb3VzZUxlYXZlKTtcclxuICAgICAgICBjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVNb3VzZUNsaWNrKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbaXNJbml0aWFsaXplZCwgaW50ZXJhY3RpdmUsIG1vdXNlUG9zaXRpb24sIG1hdHJpeFJhaW5FbmFibGVkLCBtYXRyaXhDaGFyc10pO1xyXG4gIFxyXG4gIC8vIFNwYXduIHBhcnRpY2xlcyB3aXRoIHRocm90dGxpbmdcclxuICBjb25zdCBzcGF3blBhcnRpY2xlcyA9IHVzZUNhbGxiYWNrKCh4OiBudW1iZXIsIHk6IG51bWJlciwgY291bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgLy8gTGltaXQgcGFydGljbGUgc3Bhd24gcmF0ZVxyXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgIGlmIChub3cgLSBsYXN0UGFydGljbGVUaW1lUmVmLmN1cnJlbnQgPCA1MCkgcmV0dXJuO1xyXG4gICAgbGFzdFBhcnRpY2xlVGltZVJlZi5jdXJyZW50ID0gbm93O1xyXG4gICAgXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDI7XHJcbiAgICAgIGNvbnN0IHNwZWVkID0gTWF0aC5yYW5kb20oKSAqIDIgKyAxO1xyXG4gICAgICBcclxuICAgICAgcGFydGljbGVzUmVmLmN1cnJlbnQucHVzaCh7XHJcbiAgICAgICAgeCxcclxuICAgICAgICB5LFxyXG4gICAgICAgIHZ4OiBNYXRoLmNvcyhhbmdsZSkgKiBzcGVlZCxcclxuICAgICAgICB2eTogTWF0aC5zaW4oYW5nbGUpICogc3BlZWQsXHJcbiAgICAgICAgc2l6ZTogTWF0aC5yYW5kb20oKSAqIDMgKyAxLFxyXG4gICAgICAgIGNvbG9yOiB0aGVtZSA9PT0gJ211bHRpJyBcclxuICAgICAgICAgID8gYGhzbCgke01hdGgucmFuZG9tKCkgKiA2MCArIDkwfSwgMTAwJSwgNjAlKWBcclxuICAgICAgICAgIDogdGhlbWVDb2xvcnMucHJpbWFyeSxcclxuICAgICAgICBsaWZlc3BhbjogTWF0aC5yYW5kb20oKSAqIDMwICsgMjAsXHJcbiAgICAgICAgYWdlOiAwXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sIFt0aGVtZSwgdGhlbWVDb2xvcnMucHJpbWFyeV0pO1xyXG4gIFxyXG4gIC8vIEFuaW1hdGlvbiBsb29wIGZvciBQYXJ0aWNsZXNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFpc0luaXRpYWxpemVkKSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IG1haW5DYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcclxuICAgIGlmICghbWFpbkNhbnZhcykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCBjdHggPSBtYWluQ2FudmFzLmdldENvbnRleHQoJzJkJywgeyBhbHBoYTogdHJ1ZSB9KTtcclxuICAgIGlmICghY3R4KSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XHJcbiAgICAgIC8vIFNraXAgYW5pbWF0aW9uIGZyYW1lcyBkdXJpbmcgcmVzaXplIHRvIGltcHJvdmUgcGVyZm9ybWFuY2VcclxuICAgICAgaWYgKGlzUmVzaXppbmdSZWYuY3VycmVudCkge1xyXG4gICAgICAgIHBhcnRpY2xlc0FuaW1hdGlvblJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBkaW1lbnNpb25zLndpZHRoLCBkaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBVcGRhdGUgYW5kIGRyYXcgcGFydGljbGVzXHJcbiAgICAgIHBhcnRpY2xlc1JlZi5jdXJyZW50ID0gcGFydGljbGVzUmVmLmN1cnJlbnQuZmlsdGVyKHBhcnRpY2xlID0+IHtcclxuICAgICAgICAvLyBVcGRhdGUgcG9zaXRpb25cclxuICAgICAgICBwYXJ0aWNsZS54ICs9IHBhcnRpY2xlLnZ4O1xyXG4gICAgICAgIHBhcnRpY2xlLnkgKz0gcGFydGljbGUudnk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVXBkYXRlIGFnZVxyXG4gICAgICAgIHBhcnRpY2xlLmFnZSsrO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJlbW92ZSBpZiB0b28gb2xkXHJcbiAgICAgICAgaWYgKHBhcnRpY2xlLmFnZSA+IHBhcnRpY2xlLmxpZmVzcGFuKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBvcGFjaXR5IGJhc2VkIG9uIGFnZVxyXG4gICAgICAgIGNvbnN0IG9wYWNpdHkgPSAxIC0gcGFydGljbGUuYWdlIC8gcGFydGljbGUubGlmZXNwYW47XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRHJhdyBwYXJ0aWNsZVxyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gcGFydGljbGUuY29sb3IucmVwbGFjZSgnKScsIGAsICR7b3BhY2l0eX0pYCkucmVwbGFjZSgncmdiJywgJ3JnYmEnKTtcclxuICAgICAgICBjdHguYXJjKHBhcnRpY2xlLngsIHBhcnRpY2xlLnksIHBhcnRpY2xlLnNpemUsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIHBhcnRpY2xlc0FuaW1hdGlvblJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgYW5pbWF0ZSgpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpZiAocGFydGljbGVzQW5pbWF0aW9uUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShwYXJ0aWNsZXNBbmltYXRpb25SZWYuY3VycmVudCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW2lzSW5pdGlhbGl6ZWQsIGRpbWVuc2lvbnNdKTtcclxuICBcclxuICAvLyBJbnRlcmFjdGl2ZSBnbG93IGVmZmVjdFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWlzSW5pdGlhbGl6ZWQgfHwgIWludGVyYWN0aXZlR2xvdykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCBmeENhbnZhcyA9IGZ4Q2FudmFzUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIWZ4Q2FudmFzKSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IGN0eCA9IGZ4Q2FudmFzLmdldENvbnRleHQoJzJkJywgeyBhbHBoYTogdHJ1ZSB9KTtcclxuICAgIGlmICghY3R4KSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XHJcbiAgICAgIC8vIFNraXAgYW5pbWF0aW9uIGZyYW1lcyBkdXJpbmcgcmVzaXplIHRvIGltcHJvdmUgcGVyZm9ybWFuY2VcclxuICAgICAgaWYgKGlzUmVzaXppbmdSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGZ4QW5pbWF0aW9uUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGRpbWVuc2lvbnMud2lkdGgsIGRpbWVuc2lvbnMuaGVpZ2h0KTtcclxuICAgICAgXHJcbiAgICAgIC8vIE9ubHkgZHJhdyB3aGVuIG1vdXNlIGlzIGFjdGl2ZVxyXG4gICAgICBpZiAobW91c2VQb3NpdGlvbi5hY3RpdmUpIHtcclxuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IG1vdXNlUG9zaXRpb247XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ3JlYXRlIHJhZGlhbCBncmFkaWVudCBmb3IgZ2xvd1xyXG4gICAgICAgIGNvbnN0IGdyYWRpZW50ID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KFxyXG4gICAgICAgICAgeCwgeSwgMCxcclxuICAgICAgICAgIHgsIHksIDIwMFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsIGByZ2JhKCR7aGV4VG9SZ2IodGhlbWVDb2xvcnMucHJpbWFyeSl9LCAwLjE1KWApO1xyXG4gICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCBgcmdiYSgke2hleFRvUmdiKHRoZW1lQ29sb3JzLnByaW1hcnkpfSwgMClgKTtcclxuICAgICAgICBcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gZ3JhZGllbnQ7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmMoeCwgeSwgMjAwLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgZnhBbmltYXRpb25SZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIGFuaW1hdGUoKTtcclxuICAgIFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKGZ4QW5pbWF0aW9uUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShmeEFuaW1hdGlvblJlZi5jdXJyZW50KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbaXNJbml0aWFsaXplZCwgZGltZW5zaW9ucywgbW91c2VQb3NpdGlvbiwgaW50ZXJhY3RpdmVHbG93LCB0aGVtZUNvbG9yc10pO1xyXG4gIFxyXG4gIC8vIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXggdG8gcmdiXHJcbiAgY29uc3QgaGV4VG9SZ2IgPSB1c2VDYWxsYmFjaygoaGV4OiBzdHJpbmcpID0+IHtcclxuICAgIC8vIFJlbW92ZSAjIGlmIHByZXNlbnRcclxuICAgIGhleCA9IGhleC5yZXBsYWNlKC9eIy8sICcnKTtcclxuICAgIFxyXG4gICAgLy8gUGFyc2UgaGV4XHJcbiAgICBjb25zdCBiaWdpbnQgPSBwYXJzZUludChoZXgsIDE2KTtcclxuICAgIGNvbnN0IHIgPSAoYmlnaW50ID4+IDE2KSAmIDI1NTtcclxuICAgIGNvbnN0IGcgPSAoYmlnaW50ID4+IDgpICYgMjU1O1xyXG4gICAgY29uc3QgYiA9IGJpZ2ludCAmIDI1NTtcclxuICAgIFxyXG4gICAgcmV0dXJuIGAke3J9LCAke2d9LCAke2J9YDtcclxuICB9LCBbXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IFxyXG4gICAgICByZWY9e2NvbnRhaW5lclJlZn1cclxuICAgICAgY2xhc3NOYW1lPXtgJHtzdHlsZXMuY29udGFpbmVyfSAke2lzTG9hZGVkID8gc3R5bGVzLmFjdGl2ZSA6ICcnfSAke3N0eWxlc1t0aGVtZV19YH1cclxuICAgICAgc3R5bGU9e3sgXHJcbiAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXHJcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICBoZWlnaHQ6ICcxMDB2aCcsXHJcbiAgICAgICAgekluZGV4OiAxMCxcclxuICAgICAgICBwb2ludGVyRXZlbnRzOiAnYXV0bydcclxuICAgICAgfX1cclxuICAgID5cclxuICAgICAgey8qIE1hdHJpeCBSYWluIENhbnZhcyAqL31cclxuICAgICAgPGNhbnZhcyBcclxuICAgICAgICByZWY9e3JhaW5DYW52YXNSZWZ9XHJcbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuY2FudmFzfVxyXG4gICAgICAgIHdpZHRoPXtkaW1lbnNpb25zLndpZHRofSBcclxuICAgICAgICBoZWlnaHQ9e2RpbWVuc2lvbnMuaGVpZ2h0fVxyXG4gICAgICAvPlxyXG4gICAgICBcclxuICAgICAgey8qIEdyaWQgQ2FudmFzICovfVxyXG4gICAgICA8Y2FudmFzIFxyXG4gICAgICAgIHJlZj17Z3JpZENhbnZhc1JlZn1cclxuICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5jYW52YXN9XHJcbiAgICAgICAgd2lkdGg9e2RpbWVuc2lvbnMud2lkdGh9IFxyXG4gICAgICAgIGhlaWdodD17ZGltZW5zaW9ucy5oZWlnaHR9XHJcbiAgICAgIC8+XHJcbiAgICAgIFxyXG4gICAgICB7LyogTWFpbiBQYXJ0aWNsZXMgQ2FudmFzICovfVxyXG4gICAgICA8Y2FudmFzIFxyXG4gICAgICAgIHJlZj17Y2FudmFzUmVmfVxyXG4gICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmNhbnZhc31cclxuICAgICAgICB3aWR0aD17ZGltZW5zaW9ucy53aWR0aH0gXHJcbiAgICAgICAgaGVpZ2h0PXtkaW1lbnNpb25zLmhlaWdodH1cclxuICAgICAgLz5cclxuICAgICAgXHJcbiAgICAgIHsvKiBJbnRlcmFjdGl2ZSBFZmZlY3RzIENhbnZhcyAqL31cclxuICAgICAgPGNhbnZhcyBcclxuICAgICAgICByZWY9e2Z4Q2FudmFzUmVmfVxyXG4gICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmNhbnZhc31cclxuICAgICAgICB3aWR0aD17ZGltZW5zaW9ucy53aWR0aH0gXHJcbiAgICAgICAgaGVpZ2h0PXtkaW1lbnNpb25zLmhlaWdodH1cclxuICAgICAgLz5cclxuICAgICAgXHJcbiAgICAgIHsvKiBDb250ZW50IChIb3RzcG90cywgZXRjLikgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udGVudH0gc3R5bGU9e3sgcG9pbnRlckV2ZW50czogJ2F1dG8nIH19PlxyXG4gICAgICAgIHtjaGlsZHJlbn1cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW50ZXJhY3RpdmVTdGVsbGFyTWFwOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlTWVtbyIsInVzZUNhbGxiYWNrIiwic3R5bGVzIiwiSW50ZXJhY3RpdmVTdGVsbGFyTWFwIiwiY2hpbGRyZW4iLCJkZW5zaXR5IiwibWF0cml4UmFpbkVuYWJsZWQiLCJtYXRyaXhSYWluQ29sb3IiLCJncmlkRW5hYmxlZCIsImludGVyYWN0aXZlR2xvdyIsInB1bHNlTm9kZXMiLCJ0aGVtZSIsImludGVyYWN0aXZlIiwiY29udGFpbmVyUmVmIiwiY2FudmFzUmVmIiwicmFpbkNhbnZhc1JlZiIsImdyaWRDYW52YXNSZWYiLCJmeENhbnZhc1JlZiIsImRpbWVuc2lvbnMiLCJzZXREaW1lbnNpb25zIiwid2lkdGgiLCJoZWlnaHQiLCJpc0xvYWRlZCIsInNldElzTG9hZGVkIiwiaXNJbml0aWFsaXplZCIsInNldElzSW5pdGlhbGl6ZWQiLCJtb3VzZVBvc2l0aW9uIiwic2V0TW91c2VQb3NpdGlvbiIsIngiLCJ5IiwiYWN0aXZlIiwicmFpbkFuaW1hdGlvblJlZiIsImdyaWRBbmltYXRpb25SZWYiLCJwYXJ0aWNsZXNBbmltYXRpb25SZWYiLCJmeEFuaW1hdGlvblJlZiIsIm1hdHJpeFJhaW5SZWYiLCJncmlkTm9kZXNSZWYiLCJwYXJ0aWNsZXNSZWYiLCJsYXN0UGFydGljbGVUaW1lUmVmIiwiaXNSZXNpemluZ1JlZiIsInJlc2l6ZVRpbWVvdXRSZWYiLCJtYXRyaXhDaGFycyIsInNwbGl0IiwidGhlbWVDb2xvcnMiLCJ0aGVtZXMiLCJncmVlbiIsInByaW1hcnkiLCJzZWNvbmRhcnkiLCJ0ZXJ0aWFyeSIsImFjY2VudCIsImJhY2tncm91bmQiLCJibHVlIiwicmVkIiwicHVycGxlIiwiY3lhbiIsIm11bHRpIiwiaGFuZGxlUmVzaXplIiwiY3VycmVudCIsImNsZWFyVGltZW91dCIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwic2V0VGltZW91dCIsImNsZWFudXBBbmltYXRpb25zIiwiaW5pdE1hdHJpeFJhaW4iLCJpbml0R3JpZCIsInJlc2l6ZVRpbWVyIiwidGhyb3R0bGVkUmVzaXplIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJmb3JFYWNoIiwicmVmIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJtYWluQ2FudmFzIiwicmFpbkNhbnZhcyIsImdyaWRDYW52YXMiLCJmeENhbnZhcyIsImRwciIsImRldmljZVBpeGVsUmF0aW8iLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0Iiwic2NhbGUiLCJkcm9wcyIsImNvbHVtbnMiLCJNYXRoIiwiZmxvb3IiLCJpIiwicHVzaCIsInJhbmRvbSIsImxlbmd0aCIsInNwZWVkIiwiY2hhciIsIm9wYWNpdHkiLCJodWUiLCJub2RlcyIsIm5vZGVDb3VudCIsIm1pbiIsInNpemUiLCJwdWxzZVNwZWVkIiwiZ2xvd0ludGVuc2l0eSIsImNvbm5lY3Rpb25zIiwibm9kZSIsImluZGV4IiwibWF4Q29ubmVjdGlvbnMiLCJkaXN0YW5jZXMiLCJtYXAiLCJvdGhlck5vZGUiLCJvdGhlckluZGV4IiwiZGlzdGFuY2UiLCJJbmZpbml0eSIsImR4IiwiZHkiLCJzcXJ0IiwiZmlsdGVyIiwiaXRlbSIsInNvcnQiLCJhIiwiYiIsInNsaWNlIiwiZCIsImFscGhhIiwiYW5pbWF0ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNsZWFyUmVjdCIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsImRyb3AiLCJ0cmFpbE9wYWNpdHkiLCJjb2xvciIsImZvbnQiLCJmaWxsU3R5bGUiLCJmaWxsVGV4dCIsInRpbWVzdGFtcCIsImxpbmVXaWR0aCIsImxpbmVDYXAiLCJjb25uZWN0aW9uSW5kZXgiLCJ0YXJnZXROb2RlIiwibWF4RGlzdGFuY2UiLCJsaW5lT3BhY2l0eSIsImdyYWRpZW50IiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJoZXhUb1JnYiIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwic2luIiwiY3JlYXRlUmFkaWFsR3JhZGllbnQiLCJhcmMiLCJQSSIsImZpbGwiLCJoYW5kbGVNb3VzZU1vdmUiLCJlIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsaWVudFgiLCJsZWZ0IiwiY2xpZW50WSIsInRvcCIsInNwYXduUGFydGljbGVzIiwiaGFuZGxlTW91c2VMZWF2ZSIsImhhbmRsZU1vdXNlQ2xpY2siLCJjb25zb2xlIiwibG9nIiwiYWRkaXRpb25hbERyb3BzIiwiY29udGFpbmVyIiwicGFzc2l2ZSIsImNvdW50Iiwibm93IiwiRGF0ZSIsImFuZ2xlIiwidngiLCJjb3MiLCJ2eSIsImxpZmVzcGFuIiwiYWdlIiwicGFydGljbGUiLCJyZXBsYWNlIiwiaGV4IiwiYmlnaW50IiwicGFyc2VJbnQiLCJyIiwiZyIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwicG9zaXRpb24iLCJ6SW5kZXgiLCJwb2ludGVyRXZlbnRzIiwiY29udGVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/InteractiveStellarMap/InteractiveStellarMap.tsx\n"));

/***/ })

});